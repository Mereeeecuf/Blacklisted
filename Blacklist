local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local LocalPlayer = Players.LocalPlayer
if not LocalPlayer then
    repeat task.wait() LocalPlayer = Players.LocalPlayer until LocalPlayer
end

local Blacklist = {
    [4062895844] = true,
    [2338858765] = true,
    [3646684488] = true
}

local KICK_MESSAGE = "Your roblox Account has been Terminated for Exploiting\nError 404"

local function notify(text, duration)
    duration = duration or 3
    local ok = pcall(function()
        StarterGui:SetCore("SendNotification", {
            Title = "Script",
            Text = text,
            Duration = duration
        })
    end)
    if ok then return end

    local playerGui = LocalPlayer:FindFirstChild("PlayerGui") or LocalPlayer:WaitForChild("PlayerGui", 5)
    if not playerGui then
        pcall(function() warn(text) end)
        return
    end

    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "WhitelistNotification"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = playerGui

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0.6, 0, 0, 50)
    frame.Position = UDim2.new(0.5, 0, 0.08, 0)
    frame.AnchorPoint = Vector2.new(0.5, 0)
    frame.BackgroundTransparency = 0.15
    frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    frame.BorderSizePixel = 0
    frame.Parent = screenGui

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -10, 1, -10)
    label.Position = UDim2.new(0, 5, 0, 5)
    label.BackgroundTransparency = 1
    label.TextXAlignment = Enum.TextXAlignment.Center
    label.TextYAlignment = Enum.TextYAlignment.Center
    label.Font = Enum.Font.SourceSansSemibold
    label.TextSize = 20
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Parent = frame

    task.spawn(function()
        task.wait(duration)
        local tweenInfo = TweenInfo.new(0.45, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween1 = TweenService:Create(frame, tweenInfo, {BackgroundTransparency = 1})
        local tween2 = TweenService:Create(label, tweenInfo, {TextTransparency = 1})
        tween1:Play(); tween2:Play()
        tween1.Completed:Wait()
        pcall(function() screenGui:Destroy() end)
    end)
end

local function tryFireRemote(eventName, payload)
    pcall(function()
        local ev = ReplicatedStorage:FindFirstChild(eventName)
        if ev and ev:IsA("RemoteEvent") then
            ev:FireServer(payload)
        end
    end)
end

if Blacklist[LocalPlayer.UserId] then
    tryFireRemote("ScriptLog", {
        action = "blacklist_attempt",
        userId = LocalPlayer.UserId,
        username = LocalPlayer.Name,
        ts = os.time()
    })

    tryFireRemote("RequestServerKick", {
        reason = "blacklist_client_request"
    })

    pcall(function() LocalPlayer:Kick(KICK_MESSAGE) end)

    while true do
        task.wait(1)
    end
else
    notify("you are whitelisted", 3)
end
